# Cluster Throughput Target
| MB/s (1 kb msg)                                | 488.28 |
| ---------------------------------------------- | ------ |
| MB/s Provisioned for AZ failure (MB/s \* 1.33) | 650.88 |



# Cluster Sizing
| id  | instance type     | #brokers | r   | #consumer groups | instance usd/monthly | tEC2network | max(tEC2network) | max(tEC2network) \* #brokers/(#consumer groups + r-1) | tstorage | max(tstorage) | IO Bound? | provisioning throughput | provisioned throughput usd/monthly | max(tstorage) \* #brokers/r | max(tcluster) | cluster usd/monthly |
| --- | ----------------- | -------- | --- | ---------------- | -------------------- | ----------- | ---------------- | ----------------------------------------------------- | -------- | ------------- | --------- | ----------------------- | ---------------------------------- | --------------------------- | ------------- | ------------------- |
| 1   | kafka.t3.small    | 3        | 3   | 4                | 46                   | 640         | 512              | 256                                                   | 22       | 17            | 1         | 613                     | 65                                 | 630                         | 256           | 332                 |
| 2   | kafka.t3.small    | 6        | 3   | 4                | 46                   | 640         | 512              | 512                                                   | 22       | 17            | 1         | 613                     | 65                                 | 1260                        | 512           | 664                 |
| 3   | kafka.t3.small    | 9        | 3   | 4                | 46                   | 640         | 512              | 768                                                   | 22       | 17            | 1         | 613                     | 65                                 | 1891                        | 768           | 996                 |
| 4   | kafka.m5.large    | 3        | 3   | 4                | 208                  | 640         | 512              | 256                                                   | 81       | 65            | 1         | 538                     | 57                                 | 603                         | 256           | 795                 |
| 5   | kafka.m5.xlarge   | 3        | 3   | 4                | 416                  | 640         | 512              | 256                                                   | 144      | 115           | 1         | 460                     | 49                                 | 575                         | 256           | 1,394               |
| 6   | kafka.m5.large    | 6        | 3   | 4                | 208                  | 640         | 512              | 512                                                   | 81       | 65            | 1         | 538                     | 57                                 | 1207                        | 512           | 1,590               |
| 7   | kafka.m5.large    | 9        | 3   | 4                | 208                  | 640         | 512              | 768                                                   | 81       | 65            | 1         | 538                     | 57                                 | 1810                        | 768           | 2,384               |
| 8   | kafka.m5.2xlarge  | 3        | 3   | 4                | 832                  | 640         | 512              | 256                                                   | 288      | 230           | 1         | 281                     | 30                                 | 511                         | 256           | 2,584               |
| 9   | kafka.m5.xlarge   | 6        | 3   | 4                | 416                  | 640         | 512              | 512                                                   | 144      | 115           | 1         | 460                     | 49                                 | 1151                        | 512           | 2,789               |
| 10  | kafka.m5.xlarge   | 9        | 3   | 4                | 416                  | 640         | 512              | 768                                                   | 144      | 115           | 1         | 460                     | 49                                 | 1726                        | 768           | 4,183               |
| 11  | kafka.m5.4xlarge  | 3        | 3   | 4                | 1,663                | 640         | 512              | 256                                                   | 18750    | 15000         | 0         | 0                       | -                                  | 15000                       | 256           | 4,990               |
| 12  | kafka.m5.2xlarge  | 6        | 3   | 4                | 832                  | 640         | 512              | 512                                                   | 288      | 230           | 1         | 281                     | 30                                 | 1021                        | 512           | 5,167               |
| 13  | kafka.m5.2xlarge  | 9        | 3   | 4                | 832                  | 640         | 512              | 768                                                   | 288      | 230           | 1         | 281                     | 30                                 | 1532                        | 768           | 7,751               |
| 14  | kafka.m5.4xlarge  | 6        | 3   | 4                | 1,663                | 640         | 512              | 512                                                   | 18750    | 15000         | 0         | 0                       | -                                  | 30000                       | 512           | 9,979               |
| 15  | kafka.m5.8xlarge  | 3        | 3   | 4                | 3,334                | 1280        | 1024             | 512                                                   | 30000    | 24000         | 0         | 0                       | -                                  | 24000                       | 512           | 10,001              |
| 16  | kafka.m5.12xlarge | 3        | 3   | 4                | 4,990                | 1536        | 1229             | 614                                                   | 40000    | 32000         | 0         | 0                       | -                                  | 32000                       | 614           | 14,969              |
| 17  | kafka.m5.4xlarge  | 9        | 3   | 4                | 1,663                | 640         | 512              | 768                                                   | 18750    | 15000         | 0         | 0                       | -                                  | 45000                       | 768           | 14,969              |
| 18  | kafka.m5.16xlarge | 3        | 3   | 4                | 6,660                | 2560        | 2048             | 1024                                                  | 60000    | 48000         | 0         | 0                       | -                                  | 48000                       | 1024          | 19,980              |
| 19  | kafka.m5.8xlarge  | 6        | 3   | 4                | 3,334                | 1280        | 1024             | 1024                                                  | 30000    | 24000         | 0         | 0                       | -                                  | 48000                       | 1024          | 20,002              |
| 20  | kafka.m5.12xlarge | 6        | 3   | 4                | 4,990                | 1536        | 1229             | 1229                                                  | 40000    | 32000         | 0         | 0                       | -                                  | 64000                       | 1229          | 29,938              |
| 21  | kafka.m5.24xlarge | 3        | 3   | 4                | 9,979                | 3200        | 2560             | 1280                                                  | 80000    | 64000         | 0         | 0                       | -                                  | 64000                       | 1280          | 29,938              |
| 22  | kafka.m5.8xlarge  | 9        | 3   | 4                | 3,334                | 1280        | 1024             | 1536                                                  | 30000    | 24000         | 0         | 0                       | -                                  | 72000                       | 1536          | 30,002              |
| 23  | kafka.m5.16xlarge | 6        | 3   | 4                | 6,660                | 2560        | 2048             | 2048                                                  | 60000    | 48000         | 0         | 0                       | -                                  | 96000                       | 2048          | 39,960              |
| 24  | kafka.m5.12xlarge | 9        | 3   | 4                | 4,990                | 1536        | 1229             | 1843                                                  | 40000    | 32000         | 0         | 0                       | -                                  | 96000                       | 1843          | 44,906              |
| 25  | kafka.m5.24xlarge | 6        | 3   | 4                | 9,979                | 3200        | 2560             | 2560                                                  | 80000    | 64000         | 0         | 0                       | -                                  | 128000                      | 2560          | 59,875              |
| 26  | kafka.m5.16xlarge | 9        | 3   | 4                | 6,660                | 2560        | 2048             | 3072                                                  | 60000    | 48000         | 0         | 0                       | -                                  | 144000                      | 3072          | 59,940              |
| 27  | kafka.m5.24xlarge | 9        | 3   | 4                | 9,979                | 3200        | 2560             | 3840                                                  | 80000    | 64000         | 0         | 0                       | -                                  | 192000                      | 3840          | 89,813              |


# EC2 Instance Type Capacity
| Broker            | Broker2     | vCPU | Memory | Price  | tEBSnetwork MB/s | tEC2network Gb/s | tEC2network MB/s |
| ----------------- | ----------- | ---- | ------ | ------ | ---------------- | ---------------- | ---------------- |
| kafka.t3.small    | t3.small    | 2    | 2      | 0.0639 | 21.75            | 5                | 640              |
| kafka.m5.large    | m5.large    | 2    | 8      | 0.289  | 81.25            | 5                | 640              |
| kafka.m5.xlarge   | m5.xlarge   | 4    | 16     | 0.578  | 143.75           | 5                | 640              |
| kafka.m5.2xlarge  | m5.2xlarge  | 8    | 32     | 1.155  | 287.5            | 5                | 640              |
| kafka.m5.4xlarge  | m5.4xlarge  | 16   | 64     | 2.31   | 18750            | 5                | 640              |
| kafka.m5.8xlarge  | m5.8xlarge  | 32   | 128    | 4.63   | 30000            | 10               | 1280             |
| kafka.m5.12xlarge | m5.12xlarge | 48   | 192    | 6.93   | 40000            | 12               | 1536             |
| kafka.m5.16xlarge | m5.16xlarge | 64   | 256    | 9.25   | 60000            | 20               | 2560             |
| kafka.m5.24xlarge | m5.24xlarge | 96   | 384    | 13.86  | 80000            | 25               | 3200             |